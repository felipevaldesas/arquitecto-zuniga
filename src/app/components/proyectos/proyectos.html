<div class="proyectos-container">
  <!-- Hero Section -->
  <section class="estudio-hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <span class="hero-label">NUESTROS LOGROS</span>
      <h1 class="hero-titulo">
        <span class="linea-1">Proyectos que</span>
        <span class="linea-2">Transforman Territorios</span>
      </h1>
      <p class="hero-descripcion">
        Casos de √©xito en gesti√≥n territorial sostenible que demuestran 
        el impacto positivo de nuestras soluciones ESG aplicadas
      </p>
    </div>
    <div class="hero-decoration">
      <div class="deco-line"></div>
      <div class="deco-circle"></div>
    </div>
  </section>

  @if(!cargando) {
    <!-- Filtros de Proyectos -->
    <section class="seccion-filtros">
      <div class="container">
        <div class="filtros-header">
          <h2>Explora Nuestro Portfolio</h2>
          <p>{{ proyectosFiltrados.length }} proyectos encontrados</p>
        </div>
        
        <div class="filtros-buttons">
          @for (tipo of tiposProyecto; track tipo) {
            <button 
              class="filtro-btn"
              [class.activo]="filtroActivo === tipo"
              (click)="filtrarProyectos(tipo)">
              {{ tipo === 'todos' ? 'Todos los Proyectos' : tipo }}
            </button>
          }
        </div>
      </div>
    </section>

    <!-- Grid de Proyectos -->
    <section class="seccion-proyectos-grid">
      <div class="container">
        <div class="proyectos-grid">
          @for (proyecto of proyectosFiltrados; track proyecto.id) {
            <article class="proyecto-card" (click)="verDetalleProyecto(proyecto.id)">
              <!-- Badge de estado -->
              <div class="proyecto-badges">
                @if (proyecto.destacado) {
                  <span class="badge destacado">Proyecto Destacado</span>
                }
                <span class="badge estado" [attr.data-estado]="proyecto.estado">
                  {{ proyecto.estado }}
                </span>
              </div>

              <!-- Imagen del proyecto -->
              <div class="proyecto-imagen">
                <div class="imagen-placeholder">
                  <span class="proyecto-inicial">{{ proyecto.titulo.charAt(0) }}</span>
                  <div class="proyecto-overlay">
                    <div class="overlay-content">
                      <span class="ver-mas">Ver Detalles</span>
                      <div class="arrow">‚Üí</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Info del proyecto -->
              <div class="proyecto-info">
                <div class="proyecto-meta">
                  <span class="proyecto-anio">{{ proyecto.anio }}</span>
                  <span class="proyecto-tipo">{{ proyecto.tipo }}</span>
                </div>
                
                <h3 class="proyecto-titulo">{{ proyecto.titulo }}</h3>
                
                <div class="proyecto-ubicacion">
                  <span class="ubicacion-icon">üìç</span>
                  <span>{{ proyecto.ubicacion }}</span>
                </div>
                
                <p class="proyecto-descripcion">{{ proyecto.descripcion }}</p>
                
                @if (proyecto.area) {
                  <div class="proyecto-area">
                    <span class="area-label">√Årea:</span>
                    <span class="area-valor">{{ proyecto.area }}</span>
                  </div>
                }
              </div>
            </article>
          }
        </div>

        <!-- Mensaje si no hay proyectos -->
        @if (proyectosFiltrados.length === 0) {
          <div class="no-proyectos">
            <h3>No hay proyectos de este tipo</h3>
            <p>Prueba con otro filtro para ver m√°s proyectos</p>
            <button class="btn-secondary" (click)="filtrarProyectos('todos')">
              Ver Todos los Proyectos
            </button>
          </div>
        }
      </div>
    </section>

    <!-- Secci√≥n CTA -->
    <section class="seccion-cta-proyectos">
      <div class="container">
        <div class="cta-content">
          <h2>¬øTienes un proyecto en mente?</h2>
          <p>Conversemos sobre c√≥mo podemos transformar tu territorio con criterios ESG aplicados</p>
          <div class="cta-stats">
            <div class="stat">
              <span class="stat-numero">{{ proyectos.length }}+</span>
              <span class="stat-label">Proyectos Realizados</span>
            </div>
            <div class="stat">
              <span class="stat-numero">100%</span>
              <span class="stat-label">Criterios Sostenibles</span>
            </div>
            <div class="stat">
              <span class="stat-numero">15+</span>
              <span class="stat-label">A√±os de Experiencia</span>
            </div>
          </div>
          <button class="btn-primary" (click)="navegarAContacto()">
            <span>Iniciar Mi Proyecto</span>
            <span class="btn-arrow">‚Üí</span>
          </button>
        </div>
      </div>
    </section>
  }

  <!-- Loading State -->
  @if (cargando) {
    <div class="loading-proyectos">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p>Cargando Proyectos...</p>
      </div>
    </div>
  }
</div>