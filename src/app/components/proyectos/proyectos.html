<div class="proyectos-minimal">
  
  <!-- Loading state minimalista -->
  @if (cargando) {
    <div class="loading-minimal">
      <div class="loading-content">
        <div class="loading-logo">
          <img src="/assets/get_logo.png" alt="Get" />
        </div>
        <div class="loading-text">Cargando proyectos...</div>
      </div>
    </div>
  }

  <!-- Contenido principal -->
  @if (!cargando) {
    
    <!-- Header simple -->
    <header class="proyectos-header">
      <div class="header-content">
        <h1 class="titulo-principal">Proyectos</h1>
        <p class="subtitulo">{{ proyectos.length }} proyectos realizados</p>
      </div>
    </header>

    <!-- Filtros minimalistas (máximo 3) -->
    <section class="filtros-minimal">
      <div class="filtros-container">
        @for (tipo of tiposProyecto.slice(0, 4); track tipo) {
          <button class="filtro-btn" 
                  [class.activo]="filtroActivo === tipo"
                  (click)="filtrarProyectos(tipo)">
            {{ tipo === 'todos' ? 'Todos' : tipo }}
          </button>
        }
      </div>
    </section>

    <!-- Grid de proyectos minimalista -->
    <main class="proyectos-grid-container">
      <div class="proyectos-grid">
        @for (proyecto of proyectosFiltrados; track proyecto.id) {
          <article class="proyecto-card-minimal" 
                   (click)="verDetalleProyecto(proyecto.id)"
                   tabindex="0"
                   role="button"
                   [attr.aria-label]="'Ver proyecto ' + proyecto.titulo">
            
            <!-- Imagen/placeholder simple -->
            <div class="proyecto-imagen">
              @if (proyecto.imagen) {
                <img [src]="proyecto.imagen" 
                     [alt]="proyecto.titulo"
                     loading="lazy">
              } @else {
                <div class="imagen-placeholder">
                  <span class="proyecto-numero">{{ (proyectosFiltrados.indexOf(proyecto) + 1).toString().padStart(2, '0') }}</span>
                </div>
              }
              
              <!-- Overlay minimalista -->
              <div class="hover-overlay">
                <span class="ver-texto">Ver proyecto</span>
              </div>
            </div>

            <!-- Información esencial -->
            <div class="proyecto-info">
              <h2 class="proyecto-titulo">{{ proyecto.titulo }}</h2>
              <div class="proyecto-meta">
                <span class="ubicacion">{{ proyecto.ubicacion }}</span>
                <span class="separador">•</span>
                <span class="anio">{{ proyecto.anio }}</span>
              </div>
            </div>

          </article>
        }
      </div>

      <!-- Estado vacío -->
      @if (proyectosFiltrados.length === 0) {
        <div class="estado-vacio">
          <p>No hay proyectos de este tipo</p>
          <button class="btn-reset" (click)="filtrarProyectos('todos')">
            Ver todos
          </button>
        </div>
      }
      
    </main>

  }

  <!-- Botón volver flotante -->
  <button class="btn-volver" 
          (click)="volverAtras()"
          aria-label="Volver atrás">
    <svg viewBox="0 0 24 24">
      <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
    </svg>
  </button>

</div>