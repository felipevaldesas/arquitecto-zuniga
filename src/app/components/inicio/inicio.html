<div class="inicio-elegante">
  
  <!-- Loading state -->
  @if (cargando) {
    <div class="loading-elegante">
      <div class="loading-content">
        <div class="loading-logo">
          <img src="/assets/get_logo.png" alt="Get" />
        </div>
        <div class="loading-text">Cargando experiencia...</div>
        <div class="loading-progress">
          <div class="progress-line"></div>
        </div>
      </div>
    </div>
  }

  <!-- Carrusel principal elegante -->
  @if (!cargando) {
    <main class="hero-carousel-elegante" 
          (mouseenter)="pausarCarrusel()" 
          (mouseleave)="reanudarCarrusel()">
      
      <!-- Slides de proyectos -->
      <section class="carousel-slides">
        @for (proyecto of proyectosHero; track proyecto.id; let i = $index) {
          <article class="slide-proyecto" 
                   [class.activo]="proyectoActual === i"
                   [style.background-image]="proyecto.imagen ? 'url(' + proyecto.imagen + ')' : 'none'">
            
            <!-- Overlay graduado para legibilidad -->
            <div class="slide-overlay"></div>
            
            <!-- Placeholder artístico si no hay imagen -->
            @if (!proyecto.imagen) {
              <div class="slide-placeholder">
                <div class="placeholder-geometric">
                  <div class="geometric-shape shape-1"></div>
                  <div class="geometric-shape shape-2"></div>
                  <div class="geometric-shape shape-3"></div>
                  <div class="project-number-large">{{ (i + 1).toString().padStart(2, '0') }}</div>
                </div>
              </div>
            }
            
            <!-- Información del proyecto (mejor posicionada) -->
            <div class="proyecto-info">
              <div class="info-badge">
                <span class="badge-number">{{ (i + 1).toString().padStart(2, '0') }}</span>
                <span class="badge-year">{{ proyecto.anio }}</span>
              </div>
              
              <div class="info-content">
                <h1 class="proyecto-titulo">{{ proyecto.titulo }}</h1>
                <p class="proyecto-ubicacion">
                  <span class="ubicacion-icon"></span>
                  {{ proyecto.ubicacion }}
                </p>
                <div class="proyecto-tipo">{{ proyecto.tipo }}</div>
              </div>
            </div>

          </article>
        }
      </section>

      <!-- Controles elegantes integrados -->
      <nav class="carousel-navegacion" aria-label="Navegación del carrusel">
        
        <!-- Contador con progreso circular -->
        <div class="contador-circular">
          <div class="contador-content">
            <span class="numero-actual">{{ (proyectoActual + 1).toString().padStart(2, '0') }}</span>
            <div class="progreso-circular">
              <svg viewBox="0 0 36 36" class="circular-chart">
                <path class="circle-bg"
                      d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831"/>
                <path class="circle"
                      [style.stroke-dasharray]="((proyectoActual + 1) / proyectosHero.length * 100) + ', 100'"
                      d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831"/>
              </svg>
            </div>
            <span class="numero-total">{{ proyectosHero.length.toString().padStart(2, '0') }}</span>
          </div>
        </div>

        <!-- Dots elegantes -->
        <div class="dots-elegantes">
          @for (proyecto of proyectosHero; track proyecto.id; let i = $index) {
            <button class="dot-elegante" 
                    [class.activo]="proyectoActual === i"
                    (click)="irAProyecto(i)"
                    [attr.aria-label]="'Ver proyecto ' + (i + 1) + ': ' + proyecto.titulo">
              <span class="dot-fill"></span>
              <span class="dot-ripple"></span>
            </button>
          }
        </div>

        <!-- Flechas sofisticadas -->
        <div class="flechas-navegacion">
          <button class="flecha-nav anterior" 
                  (click)="anteriorProyecto()"
                  aria-label="Proyecto anterior">
            <div class="flecha-bg"></div>
            <svg class="flecha-icon" viewBox="0 0 24 24">
              <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
            </svg>
          </button>
          
          <button class="flecha-nav siguiente" 
                  (click)="siguienteProyecto()"
                  aria-label="Siguiente proyecto">
            <div class="flecha-bg"></div>
            <svg class="flecha-icon" viewBox="0 0 24 24">
              <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
            </svg>
          </button>
        </div>

      </nav>

    </main>
  }

  <!-- CTA flotante elegante -->
  <a href="/proyectos" 
     class="cta-flotante"
     (click)="verProyectos(); $event.preventDefault()"
     aria-label="Ver todos nuestros proyectos">
    <div class="cta-content">
      <span class="cta-texto">Ver Todos los Proyectos</span>
      <div class="cta-icono">
        <svg viewBox="0 0 24 24">
          <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"/>
        </svg>
      </div>
    </div>
    <div class="cta-ripple"></div>
  </a>

</div>